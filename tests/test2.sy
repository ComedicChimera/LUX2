include "error_test";

struct LinkedListNode {
    $item : int,
    $pointer : *int
}

constructor LinkedList($lst) : Iterable {
    for($item in lst) {
        this.lst.append(new LinkedListNode({item: item}));
        if(len(this.lst) > 1):
            this.lst[-2].pointer = @this.lst[-1];
    }
}

func __next__(this) <- int {
    $elem = this.lst[0];
    do (elem.pointer != *null) {
        yield return elem.item;
        elem = *elem.pointer;
    }
}